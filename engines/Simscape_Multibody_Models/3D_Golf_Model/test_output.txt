============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\diete\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\diete\Repositories\Golf_Model
configfile: pytest.ini
plugins: anyio-4.9.0, cov-7.0.0
collecting ... collected 1 item

python/tests/test_c3d_viewer_ux.py::test_c3d_viewer_open_file_ux FAILED  [100%]

================================== FAILURES ===================================
________________________ test_c3d_viewer_open_file_ux _________________________

qapp = <PyQt6.QtWidgets.QApplication object at 0x0000027FE80A4E10>

    def test_c3d_viewer_open_file_ux(qapp: QApplication) -> None:
        """
        Test that opening a file triggers the expected UX behaviors
        (wait cursor, status bar update).
        """
        # Import inside test to avoid ImportError at module level if skip didn't catch it for some reason
        with patch.dict(sys.modules, {"ezc3d": MagicMock()}):
            from apps.c3d_viewer import C3DViewerMainWindow
    
>       window = C3DViewerMainWindow()
                 ^^^^^^^^^^^^^^^^^^^^^

python\tests\test_c3d_viewer_ux.py:35: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
python\src\apps\c3d_viewer.py:161: in __init__
    self._create_central_widget()
python\src\apps\c3d_viewer.py:204: in _create_central_widget
    self.marker_plot_tab = self._create_marker_plot_tab()
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
python\src\apps\c3d_viewer.py:271: in _create_marker_plot_tab
    self.canvas_marker = MplCanvas(self, width=5, height=4, dpi=100)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
python\src\apps\c3d_viewer.py:88: in __init__
    self.fig = Figure(figsize=(width, height), dpi=dpi)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\figure.py:2560: in __init__
    super().__init__(**kwargs)
..\..\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\figure.py:154: in __init__
    self.set(**kwargs)
..\..\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\artist.py:146: in <lambda>
    cls.set = lambda self, **kwargs: Artist.set(self, **kwargs)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\artist.py:1241: in set
    return self._internal_update(cbook.normalize_kwargs(kwargs, self))
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

kw = {}
alias_mapping = <[AttributeError("'Figure' object has no attribute 'bbox'") raised in repr()] Figure object at 0x27f90a656a0>

    def normalize_kwargs(kw, alias_mapping=None):
        """
        Helper function to normalize kwarg inputs.
    
        Parameters
        ----------
        kw : dict or None
            A dict of keyword arguments.  None is explicitly supported and treated
            as an empty dict, to support functions with an optional parameter of
            the form ``props=None``.
    
        alias_mapping : dict or Artist subclass or Artist instance, optional
            A mapping between a canonical name to a list of aliases, in order of
            precedence from lowest to highest.
    
            If the canonical value is not in the list it is assumed to have the
            highest priority.
    
            If an Artist subclass or instance is passed, use its properties alias
            mapping.
    
        Raises
        ------
        TypeError
            To match what Python raises if invalid arguments/keyword arguments are
            passed to a callable.
        """
        from matplotlib.artist import Artist
    
        if kw is None:
            return {}
    
        # deal with default value of alias_mapping
        if alias_mapping is None:
            alias_mapping = {}
        elif (isinstance(alias_mapping, type) and issubclass(alias_mapping, Artist)
              or isinstance(alias_mapping, Artist)):
            alias_mapping = getattr(alias_mapping, "_alias_map", {})
    
        to_canonical = {alias: canonical
>                       for canonical, alias_list in alias_mapping.items()
                                                     ^^^^^^^^^^^^^^^^^^^
                        for alias in alias_list}
E       AttributeError: 'Figure' object has no attribute 'items'

..\..\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\cbook.py:1792: AttributeError
============================== warnings summary ===============================
python/tests/test_c3d_viewer_ux.py::test_c3d_viewer_open_file_ux
  C:\Users\diete\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\cbook.py:24: UserWarning: The NumPy module was reloaded (imported a second time). This can in some cases result in small but subtle issues and is discouraged.
    import numpy as np

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED python/tests/test_c3d_viewer_ux.py::test_c3d_viewer_open_file_ux - AttributeError: 'Figure' object has no attribute 'items'
======================== 1 failed, 1 warning in 5.51s =========================
